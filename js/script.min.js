function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));const burgerHeader=document.querySelector(".burger-header"),menuHeader=document.querySelector(".menu"),wrapperHeader=document.querySelector(".header__wrapper"),body=document.querySelector("body");burgerHeader&&burgerHeader.addEventListener("click",()=>{burgerHeader.classList.toggle("-active"),menuHeader.classList.toggle("-open"),wrapperHeader.classList.toggle("-active"),body.classList.toggle("-lock")});class ValidateForm{constructor(e,t){this.form=e,this.options=t,this.init()}init(){this.form&&this.form.addEventListener("submit",this.formSend.bind(null,this))}async formSend(e,t){if(t.preventDefault(),0===e.validateForm()){const t=e.form,r=e.options;new FormData(t);t.classList.add("-sending");const o=await fetch(r.url,{method:r.method});if(o.ok){await o.json();t.reset();const r=e.form.querySelectorAll("input[data-value], textarea[data-value]");r.length>0&&r.forEach(e=>{e.resetPlaceholder()});for(let t in e.options.validate){const r=t,o=e.options.validate[t];"select"==r&&o.length>0&&o.forEach(e=>e.reset())}t.classList.remove("-sending")}else t.classList.remove("-sending"),console.log("ERROR")}else console.log("EMPTLY")}validateForm(){let e=0;for(let t in this.options.validate){const r=t,o=this.options.validate[t];if("input"==r&&o.length>0&&o.forEach(t=>{t.classList.remove("-error"),t.classList.contains("-email")&&this.emailTest(t)&&(t.classList.add("-error"),e++),t.classList.contains("-tel")&&this.telTest(t)&&(t.classList.add("-error"),e++)}),"select"==r&&o.length>0&&o.forEach(t=>{t.classList.remove("-error"),t.classList.contains("-no-choose")&&(t.classList.add("-error"),e++)}),"checkbox"==r&&o.length>0){o.forEach(e=>e.classList.remove("-error"));const t=Array.from(o).filter(e=>!1===e.checked);t.length>0&&t.forEach(t=>{t.classList.add("-error"),e++})}if("radio"==r&&o.length>0){const t=[],r=[];for(let e=0;e<o.length;e++){const t=o[e];r.push(t.name)}const s=Array.from(new Set(r));for(let e=0;e<s.length;e++){const r=s[e],a=Array.from(o).filter(e=>e.name==r);t.push({radioElements:a})}t.forEach(t=>{const r=t.radioElements;r.forEach(e=>e.classList.remove("-error"));0==r.filter(e=>e.checked).length&&r.forEach(t=>{t.classList.add("-error"),e++})})}}return e}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}telTest(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/.test(e.value)}}class InputPlaceholder{init(){if(this.objects=[],this.elements=document.querySelectorAll("[data-value]"),this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],r=[];r.input=t,r.valuePlaceholder=t.dataset.value,this.objects.push(r)}this.objects.forEach(e=>{this.setPlaceholder(e.input,e.valuePlaceholder),e.input.thisClass=this,e.input.resetPlaceholder=()=>this.setPlaceholder(e.input,e.valuePlaceholder)})}}setPlaceholder(e,t){""==e.value&&(e.placeholder=t),e.addEventListener("focus",()=>e.placeholder=""),e.addEventListener("blur",()=>{""==e.value&&(e.placeholder=t)})}}const inputPlaceholder=new InputPlaceholder;inputPlaceholder.init();const headerElement=document.querySelector(".header"),callback=function(e,t){e[0].isIntersecting?headerElement.classList.remove("-scroll"):headerElement.classList.add("-scroll")},headerObserver=new IntersectionObserver(callback);headerObserver.observe(headerElement);const socialSlider=new Swiper(".slider-social",{pagination:{el:".swiper-pagination",clickable:!0},simulateTouch:!0,grabCursor:!0,watchOverflow:!1}),formMailing=document.querySelector(".form-mailing");formMailing&&new ValidateForm(formMailing,{method:"GET",url:"https://jsonplaceholder.typicode.com/todos",validate:{input:formMailing.querySelectorAll("input.-req, textarea.-req")}});const gotoLinks=document.querySelectorAll("[data-goto]");if(gotoLinks.length>0){function scrollToBlock(e){e.preventDefault();const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const e=document.querySelector(t.dataset.goto).getBoundingClientRect().top+scrollY-document.querySelector(".header__wrapper").offsetHeight;document.querySelector(".burger-header").classList.contains("-active")&&(burgerHeader.classList.remove("-active"),menuHeader.classList.remove("-open"),wrapperHeader.classList.remove("-active"),body.classList.remove("-lock")),window.scrollTo({top:e,behavior:"smooth"})}}gotoLinks.forEach(e=>{e.addEventListener("click",scrollToBlock)})}